{
  "id": "54645f68-d875-443d-82b1-3c6cfef3522e",
  "name": "ELIZA_MODULE_DocumentRelationship",
  "projectId": "bb1b3d24-84e0-424e-b4f1-57603f307a89",
  "hash": "d8ab7bcced2805a12cc5c5aedaf9ac43",
  "createdAt": "1686210970868",
  "updatedAt": null,
  "graph": {
    "id": "demo@0.1.0",
    "nodes": {
      "2035": {
        "id": 2035,
        "data": {
          "name": "Input - Default",
          "isInput": true,
          "success": false,
          "useData": true,
          "inputName": "Default",
          "socketKey": "453d9ea0-af08-4ff0-ad07-b4a7ea6d6e52"
        },
        "name": "Input",
        "inputs": {},
        "outputs": {
          "output": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5319,
                "input": "event"
              },
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5385,
                "input": "event"
              },
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5420,
                "input": "9d61118c-3c5a-4379-9dae-41965e56207f"
              }
            ]
          },
          "trigger": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5420,
                "input": "trigger"
              }
            ]
          }
        },
        "position": [
          -896,
          -80
        ]
      },
      "3118": {
        "id": 3118,
        "data": {
          "name": "Output - Default",
          "success": false,
          "isOutput": true,
          "socketKey": "bc16c15c-814c-442d-aadd-837438e74c8e",
          "sendToPlaytest": true
        },
        "name": "Output",
        "inputs": {
          "event": {
            "connections": []
          },
          "input": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5391,
                "output": "output"
              }
            ]
          },
          "trigger": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5391,
                "output": "trigger"
              }
            ]
          }
        },
        "outputs": {
          "output": {
            "connections": []
          },
          "trigger": {
            "connections": []
          }
        },
        "position": [
          2640,
          336
        ]
      },
      "4709": {
        "id": 4709,
        "data": {
          "outputs": [
            {
              "name": "embedding",
              "taskType": "output",
              "socketKey": "embedding",
              "socketType": "anySocket",
              "connectionType": "output"
            },
            {
              "name": "content",
              "taskType": "output",
              "socketKey": "content",
              "socketType": "anySocket",
              "connectionType": "output"
            }
          ],
          "success": false
        },
        "name": "Get Values From Object",
        "inputs": {
          "object": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5420,
                "output": "0f17a35e-1380-428b-bc87-4a38d207fefc"
              }
            ]
          },
          "trigger": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5420,
                "output": "trigger"
              }
            ]
          }
        },
        "outputs": {
          "content": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5382,
                "input": "userMessage"
              }
            ]
          },
          "trigger": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5319,
                "input": "trigger"
              }
            ]
          },
          "embedding": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5384,
                "input": "embedding2"
              }
            ]
          }
        },
        "position": [
          -304,
          -80
        ]
      },
      "5319": {
        "id": 5319,
        "data": {
          "name": "Get Last Message",
          "type": "conversation",
          "max_count": "1",
          "socketKey": null
        },
        "name": "Event Recall",
        "inputs": {
          "type": {
            "connections": []
          },
          "event": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 2035,
                "output": "output"
              }
            ]
          },
          "trigger": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 4709,
                "output": "trigger"
              }
            ]
          },
          "embedding": {
            "connections": []
          }
        },
        "outputs": {
          "events": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5320,
                "input": "array"
              }
            ]
          },
          "trigger": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5320,
                "input": "trigger"
              }
            ]
          }
        },
        "position": [
          80,
          -80
        ]
      },
      "5320": {
        "id": 5320,
        "data": {
          "element": 0
        },
        "name": "Get Value From Array",
        "inputs": {
          "array": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5319,
                "output": "events"
              }
            ]
          },
          "trigger": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5319,
                "output": "trigger"
              }
            ]
          }
        },
        "outputs": {
          "output": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5323,
                "input": "input"
              },
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5380,
                "input": "array"
              }
            ]
          },
          "trigger": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5323,
                "input": "trigger"
              }
            ]
          }
        },
        "position": [
          80,
          208
        ]
      },
      "5323": {
        "id": 5323,
        "data": {},
        "name": "Is Null Or Undefined",
        "inputs": {
          "input": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5320,
                "output": "output"
              }
            ]
          },
          "trigger": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5320,
                "output": "trigger"
              }
            ]
          }
        },
        "outputs": {
          "true": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5391,
                "input": "none trigger"
              }
            ]
          },
          "false": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5380,
                "input": "trigger"
              }
            ]
          }
        },
        "position": [
          80,
          480
        ]
      },
      "5380": {
        "id": 5380,
        "data": {
          "element": 0,
          "socketKey": null
        },
        "name": "Get Value From Array",
        "inputs": {
          "array": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5320,
                "output": "output"
              }
            ]
          },
          "trigger": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5323,
                "output": "false"
              }
            ]
          }
        },
        "outputs": {
          "output": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5381,
                "input": "object"
              }
            ]
          },
          "trigger": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5381,
                "input": "trigger"
              }
            ]
          }
        },
        "position": [
          80,
          704
        ]
      },
      "5381": {
        "id": 5381,
        "data": {
          "outputs": [
            {
              "name": "embedding",
              "taskType": "output",
              "socketKey": "embedding",
              "socketType": "anySocket",
              "connectionType": "output"
            },
            {
              "name": "content",
              "taskType": "output",
              "socketKey": "content",
              "socketType": "anySocket",
              "connectionType": "output"
            }
          ],
          "socketKey": null
        },
        "name": "Get Values From Object",
        "inputs": {
          "object": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5380,
                "output": "output"
              }
            ]
          },
          "trigger": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5380,
                "output": "trigger"
              }
            ]
          }
        },
        "outputs": {
          "content": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5382,
                "input": "agentMessage"
              }
            ]
          },
          "trigger": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5382,
                "input": "trigger"
              }
            ]
          },
          "embedding": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5384,
                "input": "embedding1"
              }
            ]
          }
        },
        "position": [
          80,
          896
        ]
      },
      "5382": {
        "id": 5382,
        "data": {
          "inputs": [
            {
              "name": "userMessage",
              "taskType": "output",
              "socketKey": "userMessage",
              "socketType": "anySocket",
              "connectionType": "input"
            },
            {
              "name": "agentMessage",
              "taskType": "output",
              "socketKey": "agentMessage",
              "socketType": "anySocket",
              "connectionType": "input"
            }
          ],
          "fewshot": "{{agentMessage}}\n{{userMessage}}"
        },
        "name": "Text Template",
        "inputs": {
          "trigger": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5381,
                "output": "trigger"
              }
            ]
          },
          "userMessage": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 4709,
                "output": "content"
              }
            ]
          },
          "agentMessage": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5381,
                "output": "content"
              }
            ]
          }
        },
        "outputs": {
          "prompt": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5383,
                "input": "input"
              },
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5385,
                "input": "content"
              }
            ]
          },
          "trigger": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5383,
                "input": "trigger"
              }
            ]
          }
        },
        "position": [
          496,
          880
        ]
      },
      "5383": {
        "id": 5383,
        "data": {
          "model": "embedding-gecko-001"
        },
        "name": "Create Text Embedding",
        "inputs": {
          "input": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5382,
                "output": "prompt"
              }
            ]
          },
          "trigger": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5382,
                "output": "trigger"
              }
            ]
          }
        },
        "outputs": {
          "error": {
            "connections": []
          },
          "trigger": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5384,
                "input": "trigger"
              }
            ]
          },
          "embedding": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5384,
                "input": "combinedEmbedding"
              }
            ]
          }
        },
        "position": [
          896,
          880
        ]
      },
      "5384": {
        "id": 5384,
        "data": {},
        "name": "Extract Relationship",
        "inputs": {
          "trigger": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5383,
                "output": "trigger"
              }
            ]
          },
          "embedding1": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5381,
                "output": "embedding"
              }
            ]
          },
          "embedding2": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 4709,
                "output": "embedding"
              }
            ]
          },
          "combinedEmbedding": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5383,
                "output": "embedding"
              }
            ]
          }
        },
        "outputs": {
          "trigger": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5386,
                "input": "trigger"
              },
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5392,
                "input": "trigger"
              }
            ]
          },
          "embedding": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5385,
                "input": "embedding"
              },
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5386,
                "input": "embedding"
              }
            ]
          }
        },
        "position": [
          1280,
          880
        ]
      },
      "5385": {
        "id": 5385,
        "data": {
          "name": "Store Relationship",
          "type": "interest_relationship_embedding"
        },
        "name": "Store Event",
        "inputs": {
          "type": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5392,
                "output": "prompt"
              }
            ]
          },
          "event": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 2035,
                "output": "output"
              }
            ]
          },
          "sender": {
            "connections": []
          },
          "content": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5382,
                "output": "prompt"
              }
            ]
          },
          "trigger": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5392,
                "output": "trigger"
              }
            ]
          },
          "embedding": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5384,
                "output": "embedding"
              }
            ]
          }
        },
        "outputs": {
          "trigger": {
            "connections": []
          }
        },
        "position": [
          1280,
          1344
        ]
      },
      "5386": {
        "id": 5386,
        "data": {
          "type": "interest_relationship",
          "max_count": "1"
        },
        "name": "Get Documents",
        "inputs": {
          "type": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5388,
                "output": "output"
              }
            ]
          },
          "trigger": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5384,
                "output": "trigger"
              }
            ]
          },
          "embedding": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5384,
                "output": "embedding"
              }
            ]
          }
        },
        "outputs": {
          "trigger": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5390,
                "input": "trigger"
              }
            ]
          },
          "documents": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5390,
                "input": "array"
              }
            ]
          }
        },
        "position": [
          1632,
          128
        ]
      },
      "5388": {
        "id": 5388,
        "data": {
          "_var": "interest_relationship",
          "name": "Document Type",
          "isPublic": true
        },
        "name": "String Variable",
        "inputs": {},
        "outputs": {
          "output": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5386,
                "input": "type"
              },
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5392,
                "input": "input"
              }
            ]
          }
        },
        "position": [
          -896,
          -224
        ]
      },
      "5389": {
        "id": 5389,
        "data": {
          "outputs": [
            {
              "name": "similarity",
              "taskType": "output",
              "socketKey": "similarity",
              "socketType": "anySocket",
              "connectionType": "output"
            },
            {
              "name": "content",
              "taskType": "output",
              "socketKey": "content",
              "socketType": "anySocket",
              "connectionType": "output"
            }
          ],
          "socketKey": null
        },
        "name": "Get Values From Object",
        "inputs": {
          "object": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5390,
                "output": "output"
              }
            ]
          },
          "trigger": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5390,
                "output": "trigger"
              }
            ]
          }
        },
        "outputs": {
          "content": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5391,
                "input": "doc value data"
              }
            ]
          },
          "trigger": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5397,
                "input": "trigger"
              }
            ]
          },
          "similarity": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5397,
                "input": "input"
              }
            ]
          }
        },
        "position": [
          1632,
          544
        ]
      },
      "5390": {
        "id": 5390,
        "data": {
          "element": 0,
          "socketKey": null
        },
        "name": "Get Value From Array",
        "inputs": {
          "array": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5386,
                "output": "documents"
              }
            ]
          },
          "trigger": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5386,
                "output": "trigger"
              }
            ]
          }
        },
        "outputs": {
          "output": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5389,
                "input": "object"
              }
            ]
          },
          "trigger": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5389,
                "input": "trigger"
              }
            ]
          }
        },
        "position": [
          1632,
          352
        ]
      },
      "5391": {
        "id": 5391,
        "data": {
          "inputs": [
            {
              "name": "none trigger",
              "taskType": "option",
              "socketKey": "none trigger",
              "socketType": "triggerSocket",
              "connectionType": "input"
            },
            {
              "name": "none data",
              "taskType": "output",
              "socketKey": "none data",
              "socketType": "anySocket",
              "connectionType": "input"
            },
            {
              "name": "doc value trigger",
              "taskType": "option",
              "socketKey": "doc value trigger",
              "socketType": "triggerSocket",
              "connectionType": "input"
            },
            {
              "name": "doc value data",
              "taskType": "output",
              "socketKey": "doc value data",
              "socketType": "anySocket",
              "connectionType": "input"
            }
          ]
        },
        "name": "Exclusive Gate",
        "inputs": {
          "none data": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5393,
                "output": "output"
              }
            ]
          },
          "none trigger": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5323,
                "output": "true"
              },
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5397,
                "output": "false"
              }
            ]
          },
          "doc value data": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5389,
                "output": "content"
              }
            ]
          },
          "doc value trigger": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5397,
                "output": "true"
              }
            ]
          }
        },
        "outputs": {
          "output": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 3118,
                "input": "input"
              }
            ]
          },
          "trigger": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 3118,
                "input": "trigger"
              }
            ]
          }
        },
        "position": [
          2336,
          336
        ]
      },
      "5392": {
        "id": 5392,
        "data": {
          "inputs": [
            {
              "name": "input",
              "taskType": "output",
              "socketKey": "input",
              "socketType": "anySocket",
              "connectionType": "input"
            }
          ],
          "fewshot": "{{input}}_embedding"
        },
        "name": "Text Template",
        "inputs": {
          "input": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5388,
                "output": "output"
              }
            ]
          },
          "trigger": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5384,
                "output": "trigger"
              }
            ]
          }
        },
        "outputs": {
          "prompt": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5385,
                "input": "type"
              }
            ]
          },
          "trigger": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5385,
                "input": "trigger"
              }
            ]
          }
        },
        "position": [
          1280,
          1152
        ]
      },
      "5393": {
        "id": 5393,
        "data": {
          "_var": "none",
          "name": "none",
          "isPublic": false
        },
        "name": "String Variable",
        "inputs": {},
        "outputs": {
          "output": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5391,
                "input": "none data"
              }
            ]
          }
        },
        "position": [
          1968,
          272
        ]
      },
      "5396": {
        "id": 5396,
        "data": {
          "_var": "0.5",
          "name": "Threshold",
          "isPublic": true
        },
        "name": "Number Variable",
        "inputs": {},
        "outputs": {
          "output": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5397,
                "input": "value"
              }
            ]
          }
        },
        "position": [
          -896,
          -368
        ]
      },
      "5397": {
        "id": 5397,
        "data": {
          "value": 0
        },
        "name": "Greater Than",
        "inputs": {
          "input": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5389,
                "output": "similarity"
              }
            ]
          },
          "value": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5396,
                "output": "output"
              }
            ]
          },
          "trigger": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5389,
                "output": "trigger"
              }
            ]
          }
        },
        "outputs": {
          "true": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5391,
                "input": "doc value trigger"
              }
            ]
          },
          "false": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 5391,
                "input": "none trigger"
              }
            ]
          }
        },
        "position": [
          1968,
          544
        ]
      },
      "5420": {
        "id": 5420,
        "data": {
          "name": "ELIZA_MODULE_CheckEmbedding",
          "graph": {
            "id": "demo@0.1.0",
            "nodes": {
              "232": {
                "id": 232,
                "data": {
                  "name": "Input - Default",
                  "text": {
                    "id": "2eb64348-adee-4118-bcca-19697ca3a16a",
                    "inputs": {},
                    "projectId": "bb1b3d24-84e0-424e-b4f1-57603f307a89",
                    "spellName": "Starter",
                    "publicVariables": "[]"
                  },
                  "isInput": true,
                  "outputs": [],
                  "success": false,
                  "useData": true,
                  "inputName": "Default",
                  "inputType": "Default",
                  "socketKey": "9d61118c-3c5a-4379-9dae-41965e56207f",
                  "useDefault": false,
                  "dataControls": {
                    "inputType": {
                      "expanded": true
                    },
                    "useDefault": {
                      "expanded": true
                    },
                    "defaultValue": {
                      "expanded": true
                    }
                  },
                  "defaultValue": "Hello world",
                  "playtestToggle": {
                    "outputs": [],
                    "receivePlaytest": false
                  }
                },
                "name": "Input",
                "inputs": {},
                "outputs": {
                  "output": {
                    "connections": [
                      {
                        "data": {
                          "hello": "hello"
                        },
                        "node": 494,
                        "input": "event"
                      },
                      {
                        "data": {
                          "hello": "hello"
                        },
                        "node": 5271,
                        "input": "object"
                      }
                    ]
                  },
                  "trigger": {
                    "connections": [
                      {
                        "data": {
                          "hello": "hello"
                        },
                        "node": 494,
                        "input": "trigger"
                      }
                    ]
                  }
                },
                "position": [
                  -656,
                  32
                ]
              },
              "233": {
                "id": 233,
                "data": {
                  "name": "Output",
                  "success": false,
                  "isOutput": true,
                  "socketKey": "0f17a35e-1380-428b-bc87-4a38d207fefc",
                  "dataControls": {
                    "name": {
                      "expanded": true
                    }
                  },
                  "sendToPlaytest": true
                },
                "name": "Output",
                "inputs": {
                  "event": {
                    "connections": []
                  },
                  "input": {
                    "connections": [
                      {
                        "data": {
                          "hello": "hello"
                        },
                        "node": 5271,
                        "output": "object"
                      }
                    ]
                  },
                  "trigger": {
                    "connections": [
                      {
                        "data": {
                          "hello": "hello"
                        },
                        "node": 5271,
                        "output": "trigger"
                      }
                    ]
                  }
                },
                "outputs": {
                  "output": {
                    "connections": []
                  },
                  "trigger": {
                    "connections": []
                  }
                },
                "position": [
                  1472,
                  0
                ]
              },
              "494": {
                "id": 494,
                "data": {
                  "success": false,
                  "socketKey": "bbd9c07c-7bcc-454a-b5fe-cc6fd63f6a94"
                },
                "name": "Event Destructure",
                "inputs": {
                  "event": {
                    "connections": [
                      {
                        "data": {
                          "hello": "hello"
                        },
                        "node": 232,
                        "output": "output"
                      }
                    ]
                  },
                  "trigger": {
                    "connections": [
                      {
                        "data": {
                          "hello": "hello"
                        },
                        "node": 232,
                        "output": "trigger"
                      }
                    ]
                  }
                },
                "outputs": {
                  "client": {
                    "connections": []
                  },
                  "sender": {
                    "connections": []
                  },
                  "agentId": {
                    "connections": []
                  },
                  "channel": {
                    "connections": []
                  },
                  "content": {
                    "connections": [
                      {
                        "data": {
                          "hello": "hello"
                        },
                        "node": 5268,
                        "input": "content"
                      },
                      {
                        "data": {
                          "hello": "hello"
                        },
                        "node": 5269,
                        "input": "input"
                      }
                    ]
                  },
                  "rawData": {
                    "connections": []
                  },
                  "trigger": {
                    "connections": [
                      {
                        "data": {
                          "hello": "hello"
                        },
                        "node": 5267,
                        "input": "trigger"
                      }
                    ]
                  },
                  "entities": {
                    "connections": []
                  },
                  "observer": {
                    "connections": []
                  },
                  "connector": {
                    "connections": []
                  },
                  "embedding": {
                    "connections": [
                      {
                        "data": {
                          "hello": "hello"
                        },
                        "node": 5267,
                        "input": "input"
                      },
                      {
                        "data": {
                          "hello": "hello"
                        },
                        "node": 5270,
                        "input": "has data"
                      }
                    ]
                  },
                  "projectId": {
                    "connections": []
                  },
                  "channelType": {
                    "connections": []
                  }
                },
                "position": [
                  -352,
                  32
                ]
              },
              "5267": {
                "id": 5267,
                "data": {},
                "name": "Is Null Or Undefined",
                "inputs": {
                  "input": {
                    "connections": [
                      {
                        "data": {
                          "hello": "hello"
                        },
                        "node": 494,
                        "output": "embedding"
                      }
                    ]
                  },
                  "trigger": {
                    "connections": [
                      {
                        "data": {
                          "hello": "hello"
                        },
                        "node": 494,
                        "output": "trigger"
                      }
                    ]
                  }
                },
                "outputs": {
                  "true": {
                    "connections": [
                      {
                        "data": {
                          "hello": "hello"
                        },
                        "node": 5268,
                        "input": "trigger"
                      }
                    ]
                  },
                  "false": {
                    "connections": [
                      {
                        "data": {
                          "hello": "hello"
                        },
                        "node": 5270,
                        "input": "has trigger"
                      }
                    ]
                  }
                },
                "position": [
                  -48,
                  32
                ]
              },
              "5268": {
                "id": 5268,
                "data": {},
                "name": "Find Text Embedding",
                "inputs": {
                  "content": {
                    "connections": [
                      {
                        "data": {
                          "hello": "hello"
                        },
                        "node": 494,
                        "output": "content"
                      }
                    ]
                  },
                  "trigger": {
                    "connections": [
                      {
                        "data": {
                          "hello": "hello"
                        },
                        "node": 5267,
                        "output": "true"
                      }
                    ]
                  }
                },
                "outputs": {
                  "failure": {
                    "connections": [
                      {
                        "data": {
                          "hello": "hello"
                        },
                        "node": 5269,
                        "input": "trigger"
                      }
                    ]
                  },
                  "success": {
                    "connections": [
                      {
                        "data": {
                          "hello": "hello"
                        },
                        "node": 5270,
                        "input": "find trigger"
                      }
                    ]
                  },
                  "embedding": {
                    "connections": [
                      {
                        "data": {
                          "hello": "hello"
                        },
                        "node": 5270,
                        "input": "find data"
                      }
                    ]
                  }
                },
                "position": [
                  272,
                  -112
                ]
              },
              "5269": {
                "id": 5269,
                "data": {
                  "model": "embedding-gecko-001"
                },
                "name": "Create Text Embedding",
                "inputs": {
                  "input": {
                    "connections": [
                      {
                        "data": {
                          "hello": "hello"
                        },
                        "node": 494,
                        "output": "content"
                      }
                    ]
                  },
                  "trigger": {
                    "connections": [
                      {
                        "data": {
                          "hello": "hello"
                        },
                        "node": 5268,
                        "output": "failure"
                      }
                    ]
                  }
                },
                "outputs": {
                  "error": {
                    "connections": []
                  },
                  "trigger": {
                    "connections": [
                      {
                        "data": {
                          "hello": "hello"
                        },
                        "node": 5270,
                        "input": "create trigger"
                      }
                    ]
                  },
                  "embedding": {
                    "connections": [
                      {
                        "data": {
                          "hello": "hello"
                        },
                        "node": 5270,
                        "input": "create data"
                      }
                    ]
                  }
                },
                "position": [
                  576,
                  96
                ]
              },
              "5270": {
                "id": 5270,
                "data": {
                  "inputs": [
                    {
                      "name": "create trigger",
                      "taskType": "option",
                      "socketKey": "create trigger",
                      "socketType": "triggerSocket",
                      "connectionType": "input"
                    },
                    {
                      "name": "create data",
                      "taskType": "output",
                      "socketKey": "create data",
                      "socketType": "anySocket",
                      "connectionType": "input"
                    },
                    {
                      "name": "find trigger",
                      "taskType": "option",
                      "socketKey": "find trigger",
                      "socketType": "triggerSocket",
                      "connectionType": "input"
                    },
                    {
                      "name": "find data",
                      "taskType": "output",
                      "socketKey": "find data",
                      "socketType": "anySocket",
                      "connectionType": "input"
                    },
                    {
                      "name": "has trigger",
                      "taskType": "option",
                      "socketKey": "has trigger",
                      "socketType": "triggerSocket",
                      "connectionType": "input"
                    },
                    {
                      "name": "has data",
                      "taskType": "output",
                      "socketKey": "has data",
                      "socketType": "anySocket",
                      "connectionType": "input"
                    }
                  ]
                },
                "name": "Exclusive Gate",
                "inputs": {
                  "has data": {
                    "connections": [
                      {
                        "data": {
                          "hello": "hello"
                        },
                        "node": 494,
                        "output": "embedding"
                      }
                    ]
                  },
                  "find data": {
                    "connections": [
                      {
                        "data": {
                          "hello": "hello"
                        },
                        "node": 5268,
                        "output": "embedding"
                      }
                    ]
                  },
                  "create data": {
                    "connections": [
                      {
                        "data": {
                          "hello": "hello"
                        },
                        "node": 5269,
                        "output": "embedding"
                      }
                    ]
                  },
                  "has trigger": {
                    "connections": [
                      {
                        "data": {
                          "hello": "hello"
                        },
                        "node": 5267,
                        "output": "false"
                      }
                    ]
                  },
                  "find trigger": {
                    "connections": [
                      {
                        "data": {
                          "hello": "hello"
                        },
                        "node": 5268,
                        "output": "success"
                      }
                    ]
                  },
                  "create trigger": {
                    "connections": [
                      {
                        "data": {
                          "hello": "hello"
                        },
                        "node": 5269,
                        "output": "trigger"
                      }
                    ]
                  }
                },
                "outputs": {
                  "output": {
                    "connections": [
                      {
                        "data": {
                          "hello": "hello"
                        },
                        "node": 5271,
                        "input": "embedding"
                      }
                    ]
                  },
                  "trigger": {
                    "connections": [
                      {
                        "data": {
                          "hello": "hello"
                        },
                        "node": 5271,
                        "input": "trigger"
                      }
                    ]
                  }
                },
                "position": [
                  880,
                  16
                ]
              },
              "5271": {
                "id": 5271,
                "data": {
                  "name": "Compose Event",
                  "inputs": [
                    {
                      "name": "embedding",
                      "taskType": "output",
                      "socketKey": "embedding",
                      "socketType": "anySocket",
                      "connectionType": "input"
                    }
                  ]
                },
                "name": "Merge Objects",
                "inputs": {
                  "object": {
                    "connections": [
                      {
                        "data": {
                          "hello": "hello"
                        },
                        "node": 232,
                        "output": "output"
                      }
                    ]
                  },
                  "trigger": {
                    "connections": [
                      {
                        "data": {
                          "hello": "hello"
                        },
                        "node": 5270,
                        "output": "trigger"
                      }
                    ]
                  },
                  "embedding": {
                    "connections": [
                      {
                        "data": {
                          "hello": "hello"
                        },
                        "node": 5270,
                        "output": "output"
                      }
                    ]
                  }
                },
                "outputs": {
                  "object": {
                    "connections": [
                      {
                        "data": {
                          "hello": "hello"
                        },
                        "node": 233,
                        "input": "input"
                      }
                    ]
                  },
                  "trigger": {
                    "connections": [
                      {
                        "data": {
                          "hello": "hello"
                        },
                        "node": 233,
                        "input": "trigger"
                      }
                    ]
                  }
                },
                "position": [
                  1184,
                  0
                ]
              }
            },
            "comments": []
          },
          "spell": "ELIZA_MODULE_CheckEmbedding",
          "inputs": [
            {
              "name": "Input - Default",
              "taskType": "output",
              "socketKey": "9d61118c-3c5a-4379-9dae-41965e56207f",
              "socketType": "anySocket",
              "useSocketName": true,
              "connectionType": "input"
            }
          ],
          "outputs": [
            {
              "name": "Output",
              "taskType": "output",
              "socketKey": "0f17a35e-1380-428b-bc87-4a38d207fefc",
              "socketType": "anySocket",
              "useSocketName": true,
              "connectionType": "output"
            }
          ],
          "spellId": "3a9b784f-f1db-401c-80fc-2722897f7d7f",
          "projectId": "bb1b3d24-84e0-424e-b4f1-57603f307a89",
          "publicVariables": {}
        },
        "name": "Spell",
        "inputs": {
          "trigger": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 2035,
                "output": "trigger"
              }
            ]
          },
          "9d61118c-3c5a-4379-9dae-41965e56207f": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 2035,
                "output": "output"
              }
            ]
          }
        },
        "outputs": {
          "trigger": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 4709,
                "input": "trigger"
              }
            ]
          },
          "0f17a35e-1380-428b-bc87-4a38d207fefc": {
            "connections": [
              {
                "data": {
                  "hello": "hello"
                },
                "node": 4709,
                "input": "object"
              }
            ]
          }
        },
        "position": [
          -608,
          -80
        ]
      }
    },
    "comments": [
      {
        "text": "find last message in convo",
        "type": "frame",
        "links": [
          5320,
          5319
        ],
        "width": 332,
        "height": 486,
        "position": [
          14.525757369297871,
          -132.1569526609121
        ]
      },
      {
        "text": "If no documents, shortcut",
        "type": "frame",
        "links": [
          5323
        ],
        "width": 332,
        "height": 246,
        "position": [
          19.58943034725229,
          400.2845694561571
        ]
      },
      {
        "text": "compose concatenated message",
        "type": "frame",
        "links": [
          5382
        ],
        "width": 332,
        "height": 282,
        "position": [
          443.30320006517445,
          797.5818190025434
        ]
      },
      {
        "text": "create embedding of concatenated message",
        "type": "frame",
        "links": [
          5383
        ],
        "width": 332,
        "height": 282,
        "position": [
          834,
          799.4762633790202
        ]
      },
      {
        "text": "extract the relationship between the two embeddings",
        "type": "frame",
        "links": [
          5384
        ],
        "width": 332,
        "height": 318,
        "position": [
          1218.784931208074,
          792.3655377616268
        ]
      }
    ]
  }
}